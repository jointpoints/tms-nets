<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>(t, m, s)-nets generator: Tutorial 1. Getting started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">(t, m, s)-nets generator
   &#160;<span id="projectnumber">3.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('tutorial1.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Tutorial 1. Getting started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table style="width:100%">
<tr>
<td style="width:33%"></td><td style="width:33%"><div class="memproto" style="border:1px solid #A8B8D9; border-radius:4px; -moz-border-radius:4px; -webkit-border-radius:4px"> <table style="width:100%">
<tr>
<td align="center" style="width:100%"><a class="el" href="tutorials.html">Back to the list of tutorials</a>  </td></tr>
</table>
</div>  </td><td style="width:33%"><div class="memproto" style="border:1px solid #A8B8D9; border-radius:4px; -moz-border-radius:4px; -webkit-border-radius:4px"> <table style="width:100%">
<tr>
<td align="center" style="width:90%"><a class="el" href="tutorial2.html">Tutorial 2. Estimating the volume of a body</a> </td><td align="center" style="width:10%">&gt;&gt;  </td></tr>
</table>
</div>   </td></tr>
</table>
<p>In this tutorial you will get acquainted with the most basic functionality of the library. The goal of this exercise is to generate a ready-to-use \((t, m, s)\)-net.</p>
<h1><a class="anchor" id="tutorial1_1"></a>
1. Preparations</h1>
<p>We assume that before reading this tutorial you already downloaded the library and unpacked its files. If you didn't, visit the <a class="el" href="download.html">Download</a> page. We also assume your decent knowledge of C++.</p>
<dl class="section note"><dt>Note</dt><dd>These tutorials only cover the features of the latest <b>stable</b> version of the library.</dd></dl>
<p>Let us now create a sample project for the purposes of this tutorial. You may do this however you prefer: manually or with the help of your most favourive IDE. Hereafter we assume that our sample project has the following file structure.</p>
<div class="fragment"><div class="line">sample_project_root_folder</div>
<div class="line"> ├─ libraries</div>
<div class="line"> │   ├─ <a class="code" href="namespacetms.html">tms</a>-nets</div>
<div class="line"> │   │   └─ ... there go the files of our library ...</div>
<div class="line"> │   ├─ <a class="code" href="namespacetms.html">tms</a>-nets.a</div>
<div class="line"> │   └─ <a class="code" href="namespacetms.html">tms</a>-nets.hpp</div>
<div class="line"> └─ main.cpp</div>
<div class="ttc" id="anamespacetms_html"><div class="ttname"><a href="namespacetms.html">tms</a></div><div class="ttdoc">All the entities in the library are defined in this namespace.</div><div class="ttdef"><b>Definition:</b> digital_net.hpp:13</div></div>
</div><!-- fragment --><p> File <code>main.cpp</code> was created manually and it is currently empty.</p>
<dl class="section note"><dt>Note</dt><dd>Do not forget to enable C++17 standard in your compiler!</dd></dl>
<h1><a class="anchor" id="tutorial1_2"></a>
2. Create a new net</h1>
<p>Let us now open and edit <code>main.cpp</code> file of our sample program. There, in order to use our library, we first need to include the file with needed functionality. Say, we want to generate a \((t, m, s)\)-net using Niederreiter's algorithm. Hence, we need to include the following file:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;libraries/tms-nets/tms-nets.hpp&quot;</span></div>
</div><!-- fragment --><p> The functionality of our library is completely stored within a sole namespace called <a class="el" href="namespacetms.html">tms</a>. In particular, the Niederreiter's \((t, m, s)\)-nets in base \(2\) will be represented as the objects of class <a class="el" href="classtms_1_1_niederreiter.html">tms::Niederreiter</a>. Each digital net has the parameters \(t\), \(m\) and \(s\) as its invariants meaning that if at some moment of time you need to change their values, you'll have to create a new net. These parameters have the following meaning:</p>
<ul>
<li>\(t\) : this non-negative integer parameter signifies the "quality of points' dispersion" within the unit cube. More precisely, the less its quantity is, the lower is the discrepancy of the net. Minimal possible value of \(t\) increases with the growth of dimension;</li>
<li>\(m\) : this non-negative integer parameter signifies the binary logarithm of number \(M\) of points within the net, i.e., \(m = \log_2 M\). Please remember that \(M\) must always be a power of \(2\). Minimal possible value of \(m\) is \(t\) and, hence, it increases with the growth of dimension as well;</li>
<li>\(s\) : positive integer dimension of the unit cube that we wish to fill with net's points.</li>
</ul>
<p>If you want to find out mathematically rigorous description of parameter \(t\), check out the sources from <a class="el" href="index.html#literature">Recommended literature</a>. However, if you don't want to go deep into the theory, you shall not despair, since our generator is capable of automatic selection of the best (i.e., the lowest) possible \(t\) for each particular case. Having this, you may just forget about its existence (as long as your value of \(m\) is sufficiently large to satisfy \(m \ge t\); don't worry: if your value of \(m\) is too small for a particular \(s\), our library will inform you about that with the help of a runtime exception).</p>
<p>Let us now write a program that saturates a two-dimesional unit cube (i.e., a square with the length of each edge being equal to \(1\)) with a \((t, m, s)\)-net containing \(16\) quasirandom points. Here, \(s = 2\) (since the unit cube is two-dimensional) and \(m = \log_2 M = \log_2 16 = \log_2 2^4 = 4\). Knowing this, we may finally create a new net with the help of the following constructor.</p>
<div class="fragment"><div class="line"><a class="code" href="classtms_1_1_niederreiter.html">tms::Niederreiter</a>(<a class="code" href="namespacetms.html#ab16c8ddfc13ef572006cd4057d91941a">tms::BasicInt</a> <span class="keyword">const</span> nbits, <a class="code" href="namespacetms.html#ab16c8ddfc13ef572006cd4057d91941a">tms::BasicInt</a> <span class="keyword">const</span> dim)</div>
<div class="ttc" id="aclasstms_1_1_niederreiter_html"><div class="ttname"><a href="classtms_1_1_niederreiter.html">tms::Niederreiter</a></div><div class="ttdef"><b>Definition:</b> niederreiter.hpp:23</div></div>
<div class="ttc" id="anamespacetms_html_ab16c8ddfc13ef572006cd4057d91941a"><div class="ttname"><a href="namespacetms.html#ab16c8ddfc13ef572006cd4057d91941a">tms::BasicInt</a></div><div class="ttdeci">unsigned int BasicInt</div><div class="ttdoc">A type for integer values that are less than word size (e.g. m, s parameters of the net)</div><div class="ttdef"><b>Definition:</b> common.hpp:15</div></div>
</div><!-- fragment --><p> Here <code>nbits</code> shall be replaced with \(m\) and <code>dim</code> shall be replaced with \(s\). Having this said, we may write the following piece of code.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;libraries/tms-nets/tms-nets.hpp&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classtms_1_1_niederreiter.html">tms::Niederreiter</a> my_first_net(4, 2);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p> Thus, <code>my_first_net</code> is the \((t, 4, 2)\)-net (value of \(t\) is still unknown) which was constructed with Niederreiter's algorithm and consists of \(16\) distinct quasirandom points within two-dimensional unit cube.</p>
<h1><a class="anchor" id="tutorial1_3"></a>
3. Check the parameters of the net</h1>
<p>Let us now quickly verify the parameters \(t\), \(m\) and \(s\) of our net. Since \(m\) and \(s\) are defined by user, their values can be retrieved from the net by the calls of respective member functions <code>m</code> and <code>s</code>. As for the parameter \(t\), its value requires some additional analytical calculations which is why it can be retrieved with the special function <code>t</code> contained within <a class="el" href="namespacetms_1_1analysis.html">tms::analysis</a> namespace:</p>
<div class="fragment"><div class="line"><a class="code" href="namespacetms.html#ab16c8ddfc13ef572006cd4057d91941a">tms::BasicInt</a> <a class="code" href="namespacetms_1_1analysis.html#af55965f0f044a581aa022a3bf772008a">tms::analysis::t</a>(DigitalNet <span class="keyword">const</span> &amp;net)</div>
<div class="ttc" id="anamespacetms_1_1analysis_html_af55965f0f044a581aa022a3bf772008a"><div class="ttname"><a href="namespacetms_1_1analysis.html#af55965f0f044a581aa022a3bf772008a">tms::analysis::t</a></div><div class="ttdeci">BasicInt t(DigitalNet const &amp;net)</div></div>
</div><!-- fragment --><p> Here, <code>net</code> should be replaced with our digital net. The complete code may look as follows:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;libraries/tms-nets/tms-nets.hpp&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span> <span class="comment">// to perform output</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classtms_1_1_niederreiter.html">tms::Niederreiter</a> my_first_net(4, 2);</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Parameters of my_first_net:\n&quot;</span>;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\tt = &quot;</span> &lt;&lt; <a class="code" href="namespacetms_1_1analysis.html#af55965f0f044a581aa022a3bf772008a">tms::analysis::t</a>(my_first_net) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\tm = &quot;</span> &lt;&lt; my_first_net.m() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\ts = &quot;</span> &lt;&lt; my_first_net.s() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p> The expected output is:</p>
<div class="fragment"><div class="line">Parameters of my_first_net:</div>
<div class="line">    <a class="code" href="namespacetms_1_1analysis.html#af55965f0f044a581aa022a3bf772008a">t</a> = 0</div>
<div class="line">    m = 5</div>
<div class="line">    s = 2</div>
</div><!-- fragment --><p> As we see, we were able to reach the value \(t = 0\) which is the lowest possible ever. You may spend a couple of minutes of your pastime on checking how the automatically chosen value of \(t\) changes with the growth of \(s\).</p>
<h1><a class="anchor" id="tutorial1_4"></a>
4. See the points of the net</h1>
<p>Let us finally see the points! In order to optimise the consumption of resources our <code>my_first_net</code> doesn't actually store all its points in the memory. Instead, it calculates their coordinates on the fly right at the moment when we request them. To do this we are going to use the</p>
<div class="fragment"><div class="line"><a class="code" href="namespacetms.html#a03731000658f4568566d5acc35945c95">tms::Point</a> <a class="code" href="classtms_1_1_digital_net.html#a1e91356bef20d34b942c35afa6e4c971">tms::Niederreiter::generate_point</a>(<a class="code" href="namespacetms.html#a62d6adf4a3f974a5a5e36df9692c86ac">tms::CountInt</a> <span class="keyword">const</span> pos)</div>
<div class="ttc" id="aclasstms_1_1_digital_net_html_a1e91356bef20d34b942c35afa6e4c971"><div class="ttname"><a href="classtms_1_1_digital_net.html#a1e91356bef20d34b942c35afa6e4c971">tms::DigitalNet::generate_point</a></div><div class="ttdeci">Point generate_point(CountInt pos) const</div></div>
<div class="ttc" id="anamespacetms_html_a03731000658f4568566d5acc35945c95"><div class="ttname"><a href="namespacetms.html#a03731000658f4568566d5acc35945c95">tms::Point</a></div><div class="ttdeci">std::vector&lt; Real &gt; Point</div><div class="ttdoc">Represents a point of a (t, m, s)-net.</div><div class="ttdef"><b>Definition:</b> common.hpp:25</div></div>
<div class="ttc" id="anamespacetms_html_a62d6adf4a3f974a5a5e36df9692c86ac"><div class="ttname"><a href="namespacetms.html#a62d6adf4a3f974a5a5e36df9692c86ac">tms::CountInt</a></div><div class="ttdeci">uintmax_t CountInt</div><div class="ttdoc">A type for integer counting values, (e.g. number of net's point)</div><div class="ttdef"><b>Definition:</b> common.hpp:17</div></div>
</div><!-- fragment --><p> method. Its only argument <code>pos</code> specifies the ordinal index of the point we wish to get. Since we want to take a look at not a single point of our new but all \(16\) points at once, we should wrap the call of this method in a loop.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;libraries/tms-nets/tms-nets.hpp&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classtms_1_1_niederreiter.html">tms::Niederreiter</a> my_first_net(4, 2);</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Parameters of my_first_net:\n&quot;</span>;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\tt = &quot;</span> &lt;&lt; <a class="code" href="namespacetms_1_1analysis.html#af55965f0f044a581aa022a3bf772008a">tms::analysis::t</a>(my_first_net) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\tm = &quot;</span> &lt;&lt; my_first_net.m() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\ts = &quot;</span> &lt;&lt; my_first_net.s() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> point_i = 0; point_i &lt; 16; ++point_i)</div>
<div class="line">    {</div>
<div class="line">        my_first_net.generate_point(point_i);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p> If you compile this code, you will see that it is still quite useless. Let us add the output of our points to finally see their coordinates!</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;libraries/tms-nets/tms-nets.hpp&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classtms_1_1_niederreiter.html">tms::Niederreiter</a> my_first_net(4, 2);</div>
<div class="line">    </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Parameters of my_first_net:\n&quot;</span>;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\tt = &quot;</span> &lt;&lt; <a class="code" href="namespacetms_1_1analysis.html#af55965f0f044a581aa022a3bf772008a">tms::analysis::t</a>(my_first_net) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\tm = &quot;</span> &lt;&lt; my_first_net.m() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\ts = &quot;</span> &lt;&lt; my_first_net.s() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\nGenerated points:\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> point_i = 0; point_i &lt; 16; ++point_i)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespacetms.html#a03731000658f4568566d5acc35945c95">tms::Point</a> current_point = my_first_net.generate_point(point_i);</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_i = 0; dim_i &lt; 2; ++dim_i)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; current_point[dim_i] &lt;&lt; <span class="charliteral">&#39;\t&#39;</span>;</div>
<div class="line">        }</div>
<div class="line">        std::cout &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p> The expected output is:</p>
<div class="fragment"><div class="line">Parameters of my_first_net:</div>
<div class="line">    <a class="code" href="namespacetms_1_1analysis.html#af55965f0f044a581aa022a3bf772008a">t</a> = 0</div>
<div class="line">    m = 4</div>
<div class="line">    s = 2</div>
<div class="line"> </div>
<div class="line">Generated points:</div>
<div class="line">0   0</div>
<div class="line">0.5 0.5</div>
<div class="line">0.75    0.25</div>
<div class="line">0.25    0.75</div>
<div class="line">0.375   0.375</div>
<div class="line">0.875   0.875</div>
<div class="line">0.625   0.125</div>
<div class="line">0.125   0.625</div>
<div class="line">0.1875  0.3125</div>
<div class="line">0.6875  0.8125</div>
<div class="line">0.9375  0.0625</div>
<div class="line">0.4375  0.5625</div>
<div class="line">0.3125  0.1875</div>
<div class="line">0.8125  0.6875</div>
<div class="line">0.5625  0.4375</div>
<div class="line">0.0625  0.9375</div>
</div><!-- fragment --><p> Let us visualise our net with the help of a thirdparty plotter (feature is not included into the library).</p>
<div class="image">
<img src="tutorial1_Step4_1.jpg" alt=""/>
</div>
<table style="width:100%">
<tr>
<td style="width:33%"></td><td style="width:33%"><div class="memproto" style="border:1px solid #A8B8D9; border-radius:4px; -moz-border-radius:4px; -webkit-border-radius:4px"> <table style="width:100%">
<tr>
<td align="center" style="width:100%"><a class="el" href="tutorials.html">Back to the list of tutorials</a>  </td></tr>
</table>
</div>  </td><td style="width:33%"><div class="memproto" style="border:1px solid #A8B8D9; border-radius:4px; -moz-border-radius:4px; -webkit-border-radius:4px"> <table style="width:100%">
<tr>
<td align="center" style="width:90%"><a class="el" href="tutorial2.html">Tutorial 2. Estimating the volume of a body</a> </td><td align="center" style="width:10%">&gt;&gt;  </td></tr>
</table>
</div>   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
